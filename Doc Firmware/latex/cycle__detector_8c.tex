\doxysection{C\+:/\+Users/\+User/\+Desktop/filtro\+\_\+activo\+\_\+armonicos\+\_\+corriente/\+Sources/\+Core/\+Src/active\+\_\+current\+\_\+harmonics\+\_\+filter/subsystems/cycle\+\_\+detector/cycle\+\_\+detector.c File Reference}
\hypertarget{cycle__detector_8c}{}\label{cycle__detector_8c}\index{C:/Users/User/Desktop/filtro\_activo\_armonicos\_corriente/Sources/Core/Src/active\_current\_harmonics\_filter/subsystems/cycle\_detector/cycle\_detector.c@{C:/Users/User/Desktop/filtro\_activo\_armonicos\_corriente/Sources/Core/Src/active\_current\_harmonics\_filter/subsystems/cycle\_detector/cycle\_detector.c}}


Cycle Detection Handling.  


{\ttfamily \#include "{}timer\+\_\+driver.\+h"{}}\newline
{\ttfamily \#include "{}cycle\+\_\+detector.\+h"{}}\newline
{\ttfamily \#include "{}inject\+\_\+simulator.\+h"{}}\newline
{\ttfamily \#include "{}current\+\_\+sensor.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{cycle__detector_8c_ab451fdfd3aa870e9dd970b0da9a00758}\label{cycle__detector_8c_ab451fdfd3aa870e9dd970b0da9a00758} 
\#define {\bfseries TIME\+\_\+\+CYCLE\+\_\+\+DETECTION\+\_\+\+US}~19000
\begin{DoxyCompactList}\small\item\em Debouncing time for cycle detection \mbox{[}us\mbox{]}. \end{DoxyCompactList}\item 
\Hypertarget{cycle__detector_8c_a3871a2be6eabe8544cd43bb42063d616}\label{cycle__detector_8c_a3871a2be6eabe8544cd43bb42063d616} 
\#define {\bfseries LEN\+\_\+\+MED\+\_\+\+MOV}~100
\begin{DoxyCompactList}\small\item\em Number of cycles used to estimate the period. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{cycle__detector_8c_a80b2866efc6971635af7023d247f8dca}\label{cycle__detector_8c_a80b2866efc6971635af7023d247f8dca} 
void {\bfseries cycle\+\_\+detector\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em Initializes zero-\/cross detection. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{cycle__detector_8c_aca3f7d657036aa4ded09b52e8af9e296}{cycle\+\_\+detector\+\_\+get\+\_\+period}} ()
\begin{DoxyCompactList}\small\item\em Calculates the average period of electrical installation. \end{DoxyCompactList}\item 
\Hypertarget{cycle__detector_8c_a55b67948e50b2a193e80b8de72b3bec0}\label{cycle__detector_8c_a55b67948e50b2a193e80b8de72b3bec0} 
void {\bfseries cycle\+\_\+detector\+\_\+\+GPIO\+\_\+\+IRQHandler} ()
\begin{DoxyCompactList}\small\item\em This function must be called on cycle detector interrupt. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Cycle Detection Handling. 

\begin{DoxyAuthor}{Author}
Nicol√°s Almaraz 
\end{DoxyAuthor}
This API handles the cycle detection and estimate the period of the electrical line. 

\doxysubsection{Function Documentation}
\Hypertarget{cycle__detector_8c_aca3f7d657036aa4ded09b52e8af9e296}\index{cycle\_detector.c@{cycle\_detector.c}!cycle\_detector\_get\_period@{cycle\_detector\_get\_period}}
\index{cycle\_detector\_get\_period@{cycle\_detector\_get\_period}!cycle\_detector.c@{cycle\_detector.c}}
\doxysubsubsection{\texorpdfstring{cycle\_detector\_get\_period()}{cycle\_detector\_get\_period()}}
{\footnotesize\ttfamily \label{cycle__detector_8c_aca3f7d657036aa4ded09b52e8af9e296} 
uint32\+\_\+t cycle\+\_\+detector\+\_\+get\+\_\+period (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Calculates the average period of electrical installation. 


\begin{DoxyRetVals}{Return values}
{\em period\+\_\+us} & \\
\hline
\end{DoxyRetVals}
